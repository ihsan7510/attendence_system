{% extends "base.html" %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h2>Welcome, {{ user.name }}</h2>
        <p class="text-muted">Manage your classes and students here.</p>
    </div>
</div>

<div class="row g-4">
    <!-- Manage Classes -->
    <div class="col-md-4">
        <div class="card h-100 text-center hover-shadow">
            <div class="card-body">
                <h5 class="card-title">Classes</h5>
                <p class="card-text">Add or remove classes.</p>
                <a href="{{ url_for('manage_classes') }}" class="btn btn-outline-primary">Manage Classes</a>
            </div>
        </div>
    </div>

    <!-- Manage Subjects -->
    <div class="col-md-4">
        <div class="card h-100 text-center hover-shadow">
            <div class="card-body">
                <h5 class="card-title">Subjects</h5>
                <p class="card-text">Assign subjects to classes.</p>
                <a href="{{ url_for('manage_subjects') }}" class="btn btn-outline-primary">Manage Subjects</a>
            </div>
        </div>
    </div>

    <!-- Manage Students -->
    <div class="col-md-4">
        <div class="card h-100 text-center hover-shadow">
            <div class="card-body">
                <h5 class="card-title">Students</h5>
                <p class="card-text">Add students and view rolls.</p>
                <a href="{{ url_for('manage_students') }}" class="btn btn-outline-primary">Manage Students</a>
            </div>
        </div>
    </div>

    <!-- Mark Attendance -->
    <div class="col-md-4">
        <div class="card h-100 text-center hover-shadow border-primary">
            <div class="card-body">
                <h5 class="card-title text-primary">Mark Attendance</h5>
                <p class="card-text">Record daily attendance.</p>
                <a href="{{ url_for('mark_attendance') }}" class="btn btn-primary">Start Marking</a>
            </div>
        </div>
    </div>

    <!-- View Reports -->
    <div class="col-md-4">
        <div class="card h-100 text-center hover-shadow">
            <div class="card-body">
                <h5 class="card-title">Reports</h5>
                <p class="card-text">View attendance statistics.</p>
                <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                    data-bs-target="#reportSelectModal">View Reports</button>
            </div>
        </div>
    </div>

    <!-- Manage Teachers (Admin Only) -->
    {% if user.is_admin %}
    <div class="col-md-4">
        <div class="card h-100 text-center hover-shadow border-warning">
            <div class="card-body">
                <h5 class="card-title text-warning">Manage Teachers</h5>
                <p class="card-text">Add or remove teachers.</p>
                <a href="{{ url_for('manage_teachers') }}" class="btn btn-warning text-white">Manage Teachers</a>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Export Data
    <div class="col-md-4">
        <div class="card h-100 text-center hover-shadow">
            <div class="card-body">
                <h5 class="card-title">Export</h5>
                <p class="card-text">Download data as Excel.</p>
                <a href="#" class="btn btn-outline-secondary">Export to Excel</a>
            </div>
        </div>
    </div>
</div> -->

    <!-- Report Selection Modal -->
    <div class="modal fade" id="reportSelectModal" tabindex="-1" aria-labelledby="reportSelectModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="reportSelectModalLabel">Select Report Type</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-grid gap-3">
                        <a href="{{ url_for('view_reports') }}" class="btn btn-outline-primary btn-lg">
                            <i class="bi bi-people-fill me-2"></i>Class Report
                        </a>
                        <a href="{{ url_for('search_student') }}" class="btn btn-outline-success btn-lg">
                            <i class="bi bi-person-badge me-2"></i>Individual Student Report
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        .hover-shadow:hover {
            box_shadow: 0 .5rem 1rem rgba(0, 0, 0, .15) !important;
            transition: box-shadow 0.3s ease-in-out;
        }
    </style>
    {% endblock %}